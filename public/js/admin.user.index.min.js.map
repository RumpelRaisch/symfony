{"version":3,"sources":["admin.user.index.es6"],"names":["$","$userList","document","getElementById","$info","find","$edit","$remove","$infoAreas","hide","attr","on","e","preventDefault","$this","this","$infoArea","concat","data","not","show","id","swal","title","text","icon","buttons","cancel","value","visible","className","closeModal","confirm","then","fetch","results","json","debug","console","log","status","Error","$rows","remove","catch","err","message","stopLoading","close"],"mappings":"AAAAA,EAAE,WAEE,IAAMC,EAAaD,EAAEE,SAASC,eAAe,aACvCC,EAAaH,EAAUI,KAAK,iCAC5BC,EAAaL,EAAUI,KAAK,6BAC5BE,EAAaN,EAAUI,KAAK,+BAC5BG,EAAaP,EAAUI,KAAK,wBAElCG,EACKC,OACAC,KAAK,mBAAoB,UAE9BN,EAAMO,GAAG,QAAS,SAAUC,GAExBA,EAAEC,iBAEF,IAAMC,EAAYd,EAAEe,MACdC,EAAYhB,EAAEE,SAASC,eAAT,aAAAc,OAAqCH,EAAMI,KAAK,cAOpE,OALAV,EACKW,IAAIH,GACJP,OACAC,KAAK,mBAAoB,UAEtBM,EAAUN,KAAK,qBACnB,IAAK,SACDM,EACKI,OACAV,KAAK,mBAAoB,WAC9B,MAEJ,IAAK,UACDM,EACKP,OACAC,KAAK,mBAAoB,aAK1CJ,EAAMK,GAAG,QAAS,SAAUC,GAExBA,EAAEC,mBAGNN,EAAQI,GAAG,QAAS,SAAUC,GAE1BA,EAAEC,iBAEF,IAAMC,EAAQd,EAAEe,MACVM,EAAQP,EAAMI,KAAK,WAEzBI,KAAK,CACDC,MAAS,gBACTC,KAAI,iDAAAP,OAAsDI,EAAtD,KACJI,KAAS,UACTC,QAAS,CACLC,OAAS,CACLH,KAAY,SACZI,MAAY,KACZC,SAAY,EACZC,UAAY,GACZC,YAAY,GAEhBC,QAAS,CACLR,KAAY,KACZI,MAAYd,EAAMJ,KAAK,QACvBmB,SAAY,EACZC,UAAY,GACZC,YAAY,MAGrBE,KAAK,SAAAL,GAEJ,GAAI,OAASA,EACT,MAAM,KAGV,OAAOM,MAAMN,KACdK,KAAK,SAAAE,GAEJ,OAAOA,EAAQC,SAChBH,KAAK,SAAAG,GAMJ,GAJIA,EAAKC,OACLC,QAAQC,IAAI,QAASH,EAAKC,OAG1B,MAAQD,EAAKI,OAcb,MAAM,IAAIC,MAAML,EAAKI,QAbrB,IAAME,EAAQzC,EAAUI,KAAV,oBAAAY,OAAmCI,EAAnC,OAEdqB,EAAMjC,KAAK,IAAK,WAEZiC,EAAMC,SAENrB,KAAK,CACDC,MAAO,QACPC,KAAI,oBAAAP,OAAuBI,EAAvB,gBACJI,KAAO,gBAMpBmB,MAAM,SAAAC,GAEDA,EACAvB,KAAK,CACDC,MAAO,WACPC,KAAI,yCAAAP,OAA4C4B,EAAIC,QAAhD,KACJrB,KAAO,WAGXH,KAAKyB,cACLzB,KAAK0B","file":"admin.user.index.min.js","sourcesContent":["$(() =>\n{\n    const $userList  = $(document.getElementById('userList'));\n    const $info      = $userList.find('a[data-action=\"userShowInfo\"]');\n    const $edit      = $userList.find('a[data-action=\"userEdit\"]');\n    const $remove    = $userList.find('a[data-action=\"userRemove\"]');\n    const $infoAreas = $userList.find('tr[data-info-status]');\n\n    $infoAreas\n        .hide()\n        .attr('data-info-status', 'hidden');\n\n    $info.on('click', function (e)\n    {\n        e.preventDefault();\n\n        const $this     = $(this);\n        const $infoArea = $(document.getElementById(`info_user_${$this.data('user-id')}`));\n\n        $infoAreas\n            .not($infoArea)\n            .hide()\n            .attr('data-info-status', 'hidden');\n\n        switch ($infoArea.attr('data-info-status')) {\n            case 'hidden':\n                $infoArea\n                    .show()\n                    .attr('data-info-status', 'visible');\n                break;\n\n            case 'visible':\n                $infoArea\n                    .hide()\n                    .attr('data-info-status', 'hidden');\n                break;\n        }\n    });\n\n    $edit.on('click', function (e)\n    {\n        e.preventDefault();\n    });\n\n    $remove.on('click', function (e)\n    {\n        e.preventDefault();\n\n        const $this = $(this);\n        const id    = $this.data('user-id');\n\n        swal({\n            title  : 'Are you sure?',\n            text   : `This will permanently delete the user with ID ${id}!`,\n            icon   : 'warning',\n            buttons: {\n                cancel : {\n                    text      : 'Cancel',\n                    value     : null,\n                    visible   : true,\n                    className : '',\n                    closeModal: true,\n                },\n                confirm: {\n                    text      : 'OK',\n                    value     : $this.attr('href'),\n                    visible   : true,\n                    className : '',\n                    closeModal: true\n                }\n            }\n        }).then(value =>\n        {\n            if (null === value) {\n                throw null;\n            }\n\n            return fetch(value);\n        }).then(results =>\n        {\n            return results.json();\n        }).then(json =>\n        {\n            if (json.debug) {\n                console.log('debug', json.debug);\n            }\n\n            if (200 === json.status) {\n                const $rows = $userList.find(`tr[data-user-id=\"${id}\"]`);\n\n                $rows.hide(500, () =>\n                {\n                    $rows.remove();\n\n                    swal({\n                        title: 'Done!',\n                        text : `The user with ID ${id} is history!`,\n                        icon : 'success'\n                    });\n                });\n            } else {\n                throw new Error(json.status);\n            }\n        }).catch(err =>\n        {\n            if (err) {\n                swal({\n                    title: 'Oh noes!',\n                    text : `The AJAX request returned with status ${err.message}!`,\n                    icon : 'error'\n                });\n            } else {\n                swal.stopLoading();\n                swal.close();\n            }\n        });\n\n        // swal({\n        //     title  : 'Done!',\n        //     text   : `The user with ID \"${value}\" is history!`,\n        //     icon   : 'success'\n        // });\n    });\n});\n"]}