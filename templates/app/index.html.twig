{% extends 'base.html.twig' %}

{% block stylesheets %}
{# <link rel="stylesheet" href="{{ absolute_url(asset('css/app.common.min.css')|cacheHack) }}"> #}
{% endblock %}

{% block javascripts %}
<script type="text/javascript" src="{{ absolute_url(asset('js/plugins/chartjs.min.js')) }}"></script>
<script type="text/javascript" src="{{ absolute_url(asset('js/app.common.js')|cacheHack) }}"></script>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h5 class="card-category">GitHub</h5>
                <h2 class="card-title">Repos</h2>
            </div>
            <div class="card-body">
                <pre class="card-text">{{ dump(repos) }}</pre>
            </div>
            <div class="card-footer text-muted d-flex justify-content-between align-items-center">
                i dont know
                <span class="badge badge-primary badge-pill">4</span>
            </div>
        </div>
    </div>
</div>

<div class="row">
    {% for repo in repos %}
    <div class="col-lg-3 col-md-4 col-sm-6">
        <div class="card">
            <div class="card-header">
                <ul class="nav float-right">
                    <li class="nav-item">
                        <a href="{{ repo.html_url }}" target="_blank" data-toggle="tooltip" data-placement="top" title="View repo on GitHub."><i class="fab fa-github fa-fw"></i></a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ repo.owner.html_url }}" target="_blank" data-toggle="tooltip" data-placement="top" title="View user on GitHub."><i class="fas fa-user fa-fw"></i></a>
                    </li>
                </ul>
                <h5 class="card-category">{{ repo.language }}</h5>
                <h2 class="card-title">{{ repo.name }}</h2>
            </div>
            <div class="card-body">
                <canvas data-print="chart" data-chart-labels="{{ repo.participation.all|join(',') }}" data-chart-data="{{ repo.participation.all|join(',') }}"></canvas>
            </div>
            <div class="card-footer">
                <p class="card-text d-flex justify-content-between">
                    created
                    <span>{{ repo.created_at|formatDateTimeGitHub }}</span>
                </p>
                <p class="card-text d-flex justify-content-between">
                    updated
                    <span>{{ repo.updated_at|formatDateTimeGitHub }}</span>
                </p>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div class="row">
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">Lorem</div>
            <div class="card-body">
                <h4 class="card-title">Ipsum</h4>
                {{ lorem.get(2, 'card-text')|raw }}
                <p class="card-text"><a class="btn btn-success" href="#" role="button">Quo Vadis &raquo;</a></p>
            </div>
            <div class="card-footer text-muted d-flex justify-content-between align-items-center">
                foo
                <span class="badge badge-primary badge-pill">4</span>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">Lorem</div>
            <div class="card-body">
                <h4 class="card-title">Ipsum</h4>
                {{ lorem.get(4, 'card-text')|raw }}
                <p class="card-text"><a class="btn btn-warning" href="#" role="button">Quo Vadis &raquo;</a></p>
            </div>
            <div class="card-footer text-muted d-flex justify-content-between align-items-center">
                bar
                <span class="badge badge-primary badge-pill">7</span>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">Lorem</div>
            <div class="card-body">
                <h4 class="card-title">Ipsum</h4>
                {{ lorem.get(3, 'card-text')|raw }}
                <p class="card-text"><a class="btn btn-danger" href="#" role="button">Quo Vadis &raquo;</a></p>
            </div>
            <div class="card-footer text-muted d-flex justify-content-between align-items-center">
                baz
                <span class="badge badge-primary badge-pill">2</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
